{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport { attendanceService } from \"../lib/api\";\nimport { useRoute } from '@react-navigation/native';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ScanScreen() {\n  var route = useRoute();\n  var _ref = route.params || {},\n    _ref$roomId = _ref.roomId,\n    roomId = _ref$roomId === void 0 ? '' : _ref$roomId,\n    _ref$roomName = _ref.roomName,\n    roomName = _ref$roomName === void 0 ? 'Sélectionner une salle' : _ref$roomName;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasPermission = _useState2[0],\n    setHasPermission = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isScanning = _useState4[0],\n    setIsScanning = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    lastScanResult = _useState6[0],\n    setLastScanResult = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    scanError = _useState8[0],\n    setScanError = _useState8[1];\n  if (!roomId) {\n    return _jsx(SafeAreaView, {\n      style: styles.container,\n      children: _jsxs(View, {\n        style: styles.header,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \"Scanner le Code QR\"\n        }), _jsx(Text, {\n          style: styles.subtitle,\n          children: \"Veuillez s\\xE9lectionner une salle\"\n        })]\n      })\n    });\n  }\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$BarCodeScanner = yield BarCodeScanner.requestPermissionsAsync(),\n        status = _yield$BarCodeScanner.status;\n      setHasPermission(status === 'granted');\n    })();\n  }, []);\n  var handleBarCodeScanned = function () {\n    var _ref4 = _asyncToGenerator(function* (_ref3) {\n      var data = _ref3.data;\n      setIsScanning(true);\n      setLastScanResult(null);\n      setScanError(null);\n      try {\n        var studentData;\n        try {\n          studentData = JSON.parse(data);\n          if (studentData.codeApogee) {\n            studentData = _objectSpread(_objectSpread({}, studentData), {}, {\n              code_apogee: studentData.codeApogee,\n              student_code_apogee: studentData.codeApogee\n            });\n          }\n        } catch (e) {\n          studentData = {\n            code: data\n          };\n        }\n        console.log('Données scannées:', studentData);\n        var response = yield attendanceService.markAttendanceByCode({\n          code: studentData.code_apogee || studentData.code,\n          exam_room_id: roomId\n        });\n        console.log('Réponse du serveur:', response.data);\n        if (response.data) {\n          setLastScanResult(_objectSpread(_objectSpread({}, studentData), {}, {\n            timestamp: new Date().toLocaleString(),\n            status: 'présent'\n          }));\n        }\n      } catch (error) {\n        console.error('Erreur lors de l\\'enregistrement:', error);\n        if (error.response) {\n          console.error('Détails de l\\'erreur:', error.response.data);\n          setScanError(error.response.data.message || 'Erreur lors de l\\'enregistrement de la présence');\n        } else {\n          setScanError('Erreur de connexion au serveur');\n        }\n      } finally {\n        setIsScanning(false);\n      }\n    });\n    return function handleBarCodeScanned(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  if (hasPermission === null) {\n    return _jsx(SafeAreaView, {\n      style: styles.container,\n      children: _jsx(Text, {\n        style: styles.title,\n        children: \"Demande d'acc\\xE8s \\xE0 la cam\\xE9ra...\"\n      })\n    });\n  }\n  if (hasPermission === false) {\n    return _jsxs(SafeAreaView, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Pas d'acc\\xE8s \\xE0 la cam\\xE9ra\"\n      }), _jsx(Text, {\n        style: styles.errorText,\n        children: \"L'application a besoin d'acc\\xE9der \\xE0 la cam\\xE9ra pour scanner les codes QR.\"\n      })]\n    });\n  }\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(ScrollView, {\n      contentContainerStyle: styles.scrollContent,\n      children: [_jsxs(View, {\n        style: styles.header,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \"Scanner le Code QR\"\n        }), _jsx(Text, {\n          style: styles.subtitle,\n          children: roomName\n        })]\n      }), _jsxs(View, {\n        style: styles.scanContainer,\n        children: [isScanning ? _jsxs(View, {\n          style: styles.scannerContainer,\n          children: [_jsx(BarCodeScanner, {\n            onBarCodeScanned: handleBarCodeScanned,\n            style: styles.scanner\n          }), _jsx(View, {\n            style: styles.scanOverlay,\n            children: _jsx(View, {\n              style: styles.scanFrame\n            })\n          })]\n        }) : _jsx(View, {\n          style: styles.scanFrame,\n          children: _jsx(MaterialIcons, {\n            name: \"qr-code-scanner\",\n            size: 48,\n            color: \"#6B7280\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.scanButton,\n          onPress: function onPress() {\n            return setIsScanning(!isScanning);\n          },\n          children: _jsxs(View, {\n            style: styles.buttonContent,\n            children: [_jsx(MaterialIcons, {\n              name: isScanning ? \"close\" : \"qr-code-scanner\",\n              size: 24,\n              color: \"#ffffff\",\n              style: styles.buttonIcon\n            }), _jsx(Text, {\n              style: styles.buttonText,\n              children: isScanning ? \"Arrêter le scan\" : \"Commencer le scan\"\n            })]\n          })\n        }), scanError && _jsxs(View, {\n          style: styles.errorContainer,\n          children: [_jsx(MaterialIcons, {\n            name: \"error\",\n            size: 24,\n            color: \"#EF4444\"\n          }), _jsx(Text, {\n            style: styles.errorText,\n            children: scanError\n          })]\n        }), lastScanResult && _jsxs(View, {\n          style: styles.resultContainer,\n          children: [_jsx(Text, {\n            style: styles.resultTitle,\n            children: \"Pr\\xE9sence enregistr\\xE9e\"\n          }), _jsxs(Text, {\n            style: styles.resultText,\n            children: [lastScanResult.prenom, \" \", lastScanResult.nom]\n          }), _jsxs(Text, {\n            style: styles.resultText,\n            children: [\"Code Apog\\xE9e: \", lastScanResult.codeApogee]\n          }), _jsxs(Text, {\n            style: styles.resultText,\n            children: [\"CNE: \", lastScanResult.cne]\n          }), _jsxs(Text, {\n            style: styles.resultText,\n            children: [\"Heure: \", lastScanResult.timestamp]\n          })]\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f9fafb'\n  },\n  header: {\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 16,\n    paddingTop: 40,\n    paddingBottom: 8,\n    backgroundColor: '#ffffff',\n    borderBottomWidth: 1,\n    borderBottomColor: '#e5e7eb'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#EF4444',\n    textAlign: 'center'\n  },\n  subtitle: {\n    fontSize: 16,\n    color: '#6B7280',\n    marginTop: 4\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 20\n  },\n  scanContainer: {\n    alignItems: 'center',\n    marginTop: 20\n  },\n  scannerContainer: {\n    width: 300,\n    height: 300,\n    overflow: 'hidden',\n    borderRadius: 20,\n    position: 'relative'\n  },\n  scanner: _objectSpread({}, StyleSheet.absoluteFillObject),\n  scanOverlay: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    justifyContent: 'center',\n    alignItems: 'center'\n  }),\n  scanFrame: {\n    width: 250,\n    height: 250,\n    borderWidth: 2,\n    borderColor: '#7C3AED',\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(255, 255, 255, 0.1)'\n  },\n  scanButton: {\n    backgroundColor: '#7C3AED',\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 25,\n    marginTop: 20,\n    elevation: 3,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84\n  },\n  buttonContent: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttonIcon: {\n    marginRight: 8\n  },\n  buttonText: {\n    color: '#ffffff',\n    fontSize: 16,\n    fontWeight: '600'\n  },\n  errorContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FEE2E2',\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 20\n  },\n  errorText: {\n    color: '#EF4444',\n    marginLeft: 8,\n    flex: 1\n  },\n  resultContainer: {\n    backgroundColor: '#F3F4F6',\n    padding: 16,\n    borderRadius: 12,\n    marginTop: 20,\n    width: '100%'\n  },\n  resultTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#1A237E',\n    marginBottom: 8\n  },\n  resultText: {\n    fontSize: 16,\n    color: '#374151',\n    marginBottom: 4\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","TouchableOpacity","StyleSheet","SafeAreaView","ScrollView","MaterialIcons","BarCodeScanner","attendanceService","useRoute","jsx","_jsx","jsxs","_jsxs","ScanScreen","route","_ref","params","_ref$roomId","roomId","_ref$roomName","roomName","_useState","_useState2","_slicedToArray","hasPermission","setHasPermission","_useState3","_useState4","isScanning","setIsScanning","_useState5","_useState6","lastScanResult","setLastScanResult","_useState7","_useState8","scanError","setScanError","style","styles","container","children","header","title","subtitle","_asyncToGenerator","_yield$BarCodeScanner","requestPermissionsAsync","status","handleBarCodeScanned","_ref4","_ref3","data","studentData","JSON","parse","codeApogee","_objectSpread","code_apogee","student_code_apogee","e","code","console","log","response","markAttendanceByCode","exam_room_id","timestamp","Date","toLocaleString","error","message","_x","apply","arguments","errorText","contentContainerStyle","scrollContent","scanContainer","scannerContainer","onBarCodeScanned","scanner","scanOverlay","scanFrame","name","size","color","scanButton","onPress","buttonContent","buttonIcon","buttonText","errorContainer","resultContainer","resultTitle","resultText","prenom","nom","cne","create","flex","backgroundColor","flexDirection","justifyContent","alignItems","padding","paddingTop","paddingBottom","borderBottomWidth","borderBottomColor","fontSize","fontWeight","textAlign","marginTop","flexGrow","width","height","overflow","borderRadius","position","absoluteFillObject","borderWidth","borderColor","paddingVertical","paddingHorizontal","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","marginRight","marginLeft","marginBottom"],"sources":["C:/Users/hp/Desktop/attendease-main/src/screens/ScanScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  SafeAreaView,\n  ScrollView,\n  ActivityIndicator,\n} from 'react-native';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport { attendanceService } from '../lib/api';\nimport { useRoute } from '@react-navigation/native';\n\n// Define the structure for an attendance record\ninterface AttendanceRecord {\n  nom: string;\n  prenom: string;\n  codeApogee: string;\n  cne: string;\n  timestamp: string;\n  status: 'présent';\n}\n\ninterface RouteParams {\n  roomId: string;\n  roomName: string;\n}\n\ninterface ScannedData {\n  nom?: string;\n  prenom?: string;\n  codeApogee?: string;\n  code_apogee?: string;\n  student_code_apogee?: string;\n  cne?: string;\n  code?: string;\n}\n\nexport default function ScanScreen() {\n  const route = useRoute();\n  const { roomId = '', roomName = 'Sélectionner une salle' } = route.params as RouteParams || {};\n  const [hasPermission, setHasPermission] = useState<boolean | null>(null);\n  const [isScanning, setIsScanning] = useState(false);\n  const [lastScanResult, setLastScanResult] = useState<AttendanceRecord | null>(null);\n  const [scanError, setScanError] = useState<string | null>(null);\n\n  // Si aucune salle n'est sélectionnée, afficher un message\n  if (!roomId) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.header}>\n          <Text style={styles.title}>Scanner le Code QR</Text>\n          <Text style={styles.subtitle}>Veuillez sélectionner une salle</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  useEffect(() => {\n    (async () => {\n      const { status } = await BarCodeScanner.requestPermissionsAsync();\n      setHasPermission(status === 'granted');\n    })();\n  }, []);\n\n  const handleBarCodeScanned = async ({ data }: { data: string }) => {\n    setIsScanning(true);\n    setLastScanResult(null);\n    setScanError(null);\n\n    try {\n      // Essayer de parser le QR code comme JSON\n      let studentData: ScannedData;\n      try {\n        studentData = JSON.parse(data);\n        // Si le QR code contient codeApogee, le convertir en code_apogee\n        if (studentData.codeApogee) {\n          studentData = {\n            ...studentData,\n            code_apogee: studentData.codeApogee,\n            student_code_apogee: studentData.codeApogee\n          };\n        }\n      } catch (e) {\n        // Si ce n'est pas du JSON, traiter comme un code simple\n        studentData = { code: data };\n      }\n\n      console.log('Données scannées:', studentData);\n\n      const response = await attendanceService.markAttendanceByCode({\n        code: studentData.code_apogee || studentData.code,\n        exam_room_id: roomId\n      });\n\n      console.log('Réponse du serveur:', response.data);\n\n      if (response.data) {\n        setLastScanResult({\n          ...studentData,\n          timestamp: new Date().toLocaleString(),\n          status: 'présent',\n        });\n      }\n    } catch (error: any) {\n      console.error('Erreur lors de l\\'enregistrement:', error);\n      if (error.response) {\n        console.error('Détails de l\\'erreur:', error.response.data);\n        setScanError(error.response.data.message || 'Erreur lors de l\\'enregistrement de la présence');\n      } else {\n        setScanError('Erreur de connexion au serveur');\n      }\n    } finally {\n      setIsScanning(false);\n    }\n  };\n\n  if (hasPermission === null) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <Text style={styles.title}>Demande d'accès à la caméra...</Text>\n      </SafeAreaView>\n    );\n  }\n\n  if (hasPermission === false) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <Text style={styles.title}>Pas d'accès à la caméra</Text>\n        <Text style={styles.errorText}>\n          L'application a besoin d'accéder à la caméra pour scanner les codes QR.\n        </Text>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.header}>\n          <Text style={styles.title}>Scanner le Code QR</Text>\n          <Text style={styles.subtitle}>{roomName}</Text>\n        </View>\n\n        <View style={styles.scanContainer}>\n          {isScanning ? (\n            <View style={styles.scannerContainer}>\n              <BarCodeScanner\n                onBarCodeScanned={handleBarCodeScanned}\n                style={styles.scanner}\n              />\n              <View style={styles.scanOverlay}>\n                <View style={styles.scanFrame} />\n              </View>\n            </View>\n          ) : (\n            <View style={styles.scanFrame}>\n              <MaterialIcons name=\"qr-code-scanner\" size={48} color=\"#6B7280\" />\n            </View>\n          )}\n\n          <TouchableOpacity\n            style={styles.scanButton}\n            onPress={() => setIsScanning(!isScanning)}\n          >\n            <View style={styles.buttonContent}>\n              <MaterialIcons \n                name={isScanning ? \"close\" : \"qr-code-scanner\"} \n                size={24} \n                color=\"#ffffff\" \n                style={styles.buttonIcon} \n              />\n              <Text style={styles.buttonText}>\n                {isScanning ? \"Arrêter le scan\" : \"Commencer le scan\"}\n              </Text>\n            </View>\n          </TouchableOpacity>\n\n          {scanError && (\n            <View style={styles.errorContainer}>\n              <MaterialIcons name=\"error\" size={24} color=\"#EF4444\" />\n              <Text style={styles.errorText}>{scanError}</Text>\n            </View>\n          )}\n\n          {lastScanResult && (\n            <View style={styles.resultContainer}>\n              <Text style={styles.resultTitle}>Présence enregistrée</Text>\n              <Text style={styles.resultText}>\n                {lastScanResult.prenom} {lastScanResult.nom}\n              </Text>\n              <Text style={styles.resultText}>\n                Code Apogée: {lastScanResult.codeApogee}\n              </Text>\n              <Text style={styles.resultText}>\n                CNE: {lastScanResult.cne}\n              </Text>\n              <Text style={styles.resultText}>\n                Heure: {lastScanResult.timestamp}\n              </Text>\n            </View>\n          )}\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f9fafb',\n  },\n  header: {\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 16,\n    paddingTop: 40,\n    paddingBottom: 8,\n    backgroundColor: '#ffffff',\n    borderBottomWidth: 1,\n    borderBottomColor: '#e5e7eb',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#EF4444',\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: 16,\n    color: '#6B7280',\n    marginTop: 4,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 20,\n  },\n  scanContainer: {\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  scannerContainer: {\n    width: 300,\n    height: 300,\n    overflow: 'hidden',\n    borderRadius: 20,\n    position: 'relative',\n  },\n  scanner: {\n    ...StyleSheet.absoluteFillObject,\n  },\n  scanOverlay: {\n    ...StyleSheet.absoluteFillObject,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  scanFrame: {\n    width: 250,\n    height: 250,\n    borderWidth: 2,\n    borderColor: '#7C3AED',\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  scanButton: {\n    backgroundColor: '#7C3AED',\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 25,\n    marginTop: 20,\n    elevation: 3,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  buttonContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  buttonIcon: {\n    marginRight: 8,\n  },\n  buttonText: {\n    color: '#ffffff',\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  errorContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FEE2E2',\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 20,\n  },\n  errorText: {\n    color: '#EF4444',\n    marginLeft: 8,\n    flex: 1,\n  },\n  resultContainer: {\n    backgroundColor: '#F3F4F6',\n    padding: 16,\n    borderRadius: 12,\n    marginTop: 20,\n    width: '100%',\n  },\n  resultTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#1A237E',\n    marginBottom: 8,\n  },\n  resultText: {\n    fontSize: 16,\n    color: '#374151',\n    marginBottom: 4,\n  },\n}); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}